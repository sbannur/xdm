{
  "meta:license": [
    "Copyright 2017 Adobe Systems Incorporated. All rights reserved.",
    "This file is licensed to you under the Apache License, Version 2.0 (the 'License');",
    "you may not use this file except in compliance with the License. You may obtain a copy",
    "of the License at http://www.apache.org/licenses/LICENSE-2.0"
  ],
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://example.com/schemas/assetsusage",
  "title": "AssetsUsage",
  "description": "This is the schema for asset usage in any product",
  "type": "object",
  "properties": {
    "product": {
      "type": "string",
      "description": "The product using the asset",
      "examples":["Adobe Campaign", "Adobe Target"]
    },
    "productName": {
      "type": "string",
      "description": "The instance name of the product",
      "examples":["My Campaign", "My Target"]
    },
    "productId": {
      "type": "string",
      "description": "The instance identifier of the product",
      "examples":["12345", "23456"]
    },
    "deliveryId": {
      "type": "string",
      "description": "Usage Delivery Identifier of the product, optional",
      "examples":["12345", "23456"]
    },
    "channel": {
      "type": "string",
      "description": "The channel in which this asset was used by the product",
      "examples":["email", "sms"]
    },
    "assets": {
      "type": "array",
      "description": "The assets used in the product",
      "items": {
          "type": "object",
          "properties": {
            "repoId": {
              "type": "string",
              "description": "The repository of the asset",
              "examples":["12345678-e935-4922-8d1b-4b7b32ef07e5", "56789012-e935-4922-8d1b-4b7b32ef07e5"]
            },
            "assetId": {
              "type": "string",
              "description": "The identifier of the asset",
              "examples":["abcdef-e935-4922-8d1b-4b7b32ef07e5", "fedcba-e935-4922-8d1b-4b7b32ef07e5"]
            },
            "linkId": {
              "type": "string",
              "description": "Tracking URL ID as used in any channel",
              "examples":["98765", "98785"]
            }
          },
          "required": [
            "repoId",
            "assetId",
            "linkId"
          ]
        }
    },
    "audiences": {
      "type": "array",
      "description": "The audiences for the assets used in the product",
      "items": {
          "type": "object",
          "properties": {
            "audienceId": {
              "type": "string",
              "description": "The identifier of the audience",
              "examples":["98765", "98785"]
            },
            "audienceSize": {
              "type": "integer",
              "description": "The size of the audience",
              "examples":[10000, 20000]
            }
          },
          "required": [
            "audienceId",
            "audienceSize"
          ]
        }
    },
    "regions": {
      "type": "array",
      "description": "The regions targeted in the product and corresponding assets",
      "items": {
          "type": "object",
          "properties": {
            "region": {
              "type": "string",
              "description": "The region targeted by the product",
              "examples":["EUR", "APAC"]
            },
            "assetId": {
              "type": "string",
              "description": "The identifier of the asset",
              "examples":["abcdef-e935-4922-8d1b-4b7b32ef07e5", "fedcba-e935-4922-8d1b-4b7b32ef07e5"]
            }
          },
          "required": [
            "region",
            "assetId"
          ]
        }
    }
  },
  "required": [
    "product",
    "productName",
    "productId",
    "channel",
    "assets"
  ]
}